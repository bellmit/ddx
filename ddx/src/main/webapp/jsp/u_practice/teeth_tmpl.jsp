<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<div id="selector_teeth_dialog" style="display: none;">
	<!-- teeth selector start -->
	<div class="box_edithourscontent">
		<div class="box_tooth">
			<ul>
				<li class="box_teeth_arch">上颌</li>
			</ul>
			<ul>
				<li class="box_teeth_arch01">右上颌</li>
				<li class="box_teeth_arch02">左上颌</li>
			</ul>
			<div class="box_clear"></div>
			<table width="640" border="0" cellspacing="0" cellpadding="0"
				class="bg">
				<tr>
					<td id="selector_td_1">
						<dl>
							<dt>
								<span>1</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth01.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_2">
						<dl>
							<dt>
								<span>2</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth02.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_3">
						<dl>
							<dt>
								<span>3</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth03.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_4">
						<dl>
							<dt>
								<span>4</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth04.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_5">
						<dl>
							<dt>
								<span>5</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth05.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_6">
						<dl>
							<dt>
								<span>6</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth06.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_7">
						<dl>
							<dt>
								<span>7</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth07.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_8">
						<dl>
							<dt>
								<span>8</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth08.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_9">
						<dl>
							<dt>
								<span>9</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth09.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_10">
						<dl>
							<dt>
								<span>10</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth10.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_11">
						<dl>
							<dt>
								<span>11</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth11.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_12">
						<dl>
							<dt>
								<span>12</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth12.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_13">
						<dl>
							<dt>
								<span>13</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth13.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_14">
						<dl>
							<dt>
								<span>14</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth14.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_15">
						<dl>
							<dt>
								<span>15</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth15.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_16">
						<dl>
							<dt>
								<span>16</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth16.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
				</tr>
				<tr>
					<td id="selector_td_32">
						<dl>
							<dt>
								<span>32</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth32.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_31">
						<dl>
							<dt>
								<span>31</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth31.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_30">
						<dl>
							<dt>
								<span>30</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth30.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_29">
						<dl>
							<dt>
								<span>29</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth29.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_28">
						<dl>
							<dt>
								<span>28</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth28.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_27">
						<dl>
							<dt>
								<span>27</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth27.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_26">
						<dl>
							<dt>
								<span>26</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth26.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_25">
						<dl>
							<dt>
								<span>25</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth25.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_24">
						<dl>
							<dt>
								<span>24</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth24.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_23">
						<dl>
							<dt>
								<span>23</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth23.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_22">
						<dl>
							<dt>
								<span>22</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth22.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_21">
						<dl>
							<dt>
								<span>21</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth21.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_20">
						<dl>
							<dt>
								<span>20</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth20.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_19">
						<dl>
							<dt>
								<span>19</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth19.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_18">
						<dl>
							<dt>
								<span>18</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth18.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
					<td id="selector_td_17">
						<dl>
							<dt>
								<span>17</span> <img
									src="${pageContext.request.contextPath}/jsp/box/images/boxtooth17.png"
									width="26" height="57" />
							</dt>
							<dd>
								<span class="tooth_select"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="shade_selector"></a> </span> <span
									class="tooth_select01"><a href="javascript:void(0)"
									class="selector_teeth_tooth" ttype="stump_selector"></a> </span>
							</dd>
						</dl>
					</td>
				</tr>
			</table>
			<div class="box_clear"></div>
			<ul>
				<li class="box_teeth_arch01">右下颌</li>
				<li class="box_teeth_arch02">左下颌</li>
			</ul>
			<div class="box_clear"></div>
			<ul>
				<li class="box_teeth_arch03">下颌</li>
			</ul>
			<div style="height: 30px;"></div>
		</div>
	</div>
	<!-- teeth selector end -->
</div>

 <%--牙齿shade选择dialog 开始 --%>
<div id="selector_shade_dialog" style="display: none;">
	<div class="box_appointment_changecenter01">
		<div class="box_shade">
			<ul>
				<input type="checkbox" id="specify_regions"
					onclick="specifyRegions()" value="1" /> 选择特定区域?
			</ul>
		</div>
		<div class="box_shade01">
			<div class="box_shadeleft">
				<img class="shadeleft_img"
					src="${pageContext.request.contextPath }/jsp/box/images/icons01.png"
					width="26" height="57" /> <span class="box_shadeleft01"> 10
				</span>
			</div>
			<div class="box_shaderight" id="whole">
				<input class="box_shaderight01" type="text" role="textbox"
					id="shade_whole">
			</div>
			<div class="box_shaderight" id="regions" style="display: none;">
				<input class="box_shaderight01" id="shade_g" type="text"
					role="textbox"> Gingival <input class="box_shaderight01"
					id="shade_b" type="text" role="textbox"> Body <input
					class="box_shaderight01" id="shade_i" type="text" role="textbox">
				Incisal
			</div>
		</div>
		<div class="box_clear"></div>
	</div>
</div>
<%-- 牙齿shade选择dialog 结束 --%>

<%-- 牙齿shade --%>
<div id="shade_selector_confirm_dialog"
	style="width: auto; min-height: 0px; height: 95.4400000572205px; display: none;"
	scrolltop="0" scrollleft="0">确定? 你的 shade selections 将不予保存.</div>

<script type="text/javascript">
	$(function() {
		var s_data = '${shade_data}';
		var stump_data = '${stumpShade_data}';
		var n_s_data = s_data.replace(/value=/g, '"label":"').replace(
				/, key=/g, '","value":"').replace(/},/g, '"},').replace(/}]/g,
				'"}]');
		var n_stump_data = stump_data.replace(/value=/g, '"label":"').replace(
				/, key=/g, '","value":"').replace(/},/g, '"},').replace(/}]/g,
				'"}]');
		var st_data = eval('(' + n_s_data + ')');
		var stumpt_data = eval('(' + n_stump_data + ')');
		
		//牙位标识分类 
		if('${user.teethNotation}'=='1'){
			var fdi_up = [18,17,16,15,14,13,12,11,21,22,23,24,25,26,27,28];
			var fdi_lo = [48,47,46,45,44,43,42,41,31,32,33,34,35,36,37,38];
			$('table.bg tr').each(function(index,item){
				if(index == 0){
					$(this).find('td').each(function(index_2,item_2){
						$(this).attr('id','selector_td_'+fdi_up[index_2]);
						$(this).find('dl dt span').text(fdi_up[index_2])
					})
				}
				if(index == 1){
					$(this).find('td').each(function(index_3,item_3){
						$(this).attr('id','selector_td_'+fdi_lo[index_3]);
						$(this).find('dl dt span').text(fdi_lo[index_3])
					})
				}
			});
		}

		//牙齿TD样式切换 
		$("table.bg td").click(function() {
			if (!$(this).hasClass("t_c")) {
				$(this).attr('class', 't_c');
			} else {
				var isExist = false;
				$(this).find('a').each(function() {
					if ($(this).hasClass("saved_data")) {
						isExist = true;
					}
				});
				if (!isExist) {
					$(this).attr('class', '');
				}
			}
		});

		$('.selector_teeth_tooth').click(function() {
			var $this = $(this);
			var ttype = $(this).attr('ttype');

			if (ttype == 'stump_selector') {
				$('.box_shade>ul').hide();
			}

			var cpf = $(this).closest('dd').prev();
			var pos = cpf.find('span').text();
			var leftImg_path = cpf.find('img').attr('src');

			$('.box_shadeleft01').html(pos);
			$('.shadeleft_img').attr('src', leftImg_path);
			$("#selector_shade_dialog").dialog({
				resizable : true,
				height : 330,
				width : 400,
				modal : true,
				title : '选择比色卡',
				buttons : {
					"确定" : function() {

						_getShadeValue($this);
						//clearShade();
						$(this).dialog('close');
					}
				},
				open : function() {
					//打开时的操作
					_open($this);
				},
				close : function() {
					//关闭时的操作
					clearShade();
					if (_specifyValue) {
						var tdx = $this.closest('td');
						tdx.attr('class', 't_c');
					}
				}
			/* ,
			beforeClose: function(b) {
				$("#shade_selector_confirm_dialog").dialog({
			        modal: !0,
			        resizable: false,
			        width: 300,
			        height: 200,
			        buttons: {
			        	"确定": function() {
							$(this).dialog('destroy');
							$('#selector_shade_dialog').dialog('destroy');
							if(ttype == 'stump_selector'){
								$('.box_shade>ul').show();
							}
						},
						"取消": function() {
							$(this).dialog('close');
							if(ttype == 'stump_selector'){
								$('.box_shade>ul').show();
							}
						}
			        }
			    });
			  return false;
			} */
			});

			//alert(ttype);
			$(".box_shaderight01").autocomplete({
				source : ttype == 'stump_selector' ? stumpt_data : st_data
			}, {
				delay : 0
			});

		});

	});
</script>